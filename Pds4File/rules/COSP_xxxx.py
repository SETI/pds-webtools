####################################################################################################################################
# rules/COSP_xxxx.py
####################################################################################################################################

import pdsfile
import translator
import re

####################################################################################################################################
# ASSOCIATIONS
####################################################################################################################################

associations_to_documents = translator.TranslatorByRegex([
    (r'volumes/COSP_xxxx.*', 0,
        r'documents/COSP_xxxx/*'),
])

####################################################################################################################################
# FILESPEC_TO_VOLSET
####################################################################################################################################

filespec_to_volset = translator.TranslatorByRegex([
    (r'COSP_\d{4}.*', 0, r'COSP_xxxx'),
])

####################################################################################################################################
# INFO_FILE_BASENAMES
####################################################################################################################################

info_file_basenames = translator.TranslatorByRegex([
    (r'(aareadme\.txt)', re.I, r'\1'),      # this is the best choice, not voldesc.cat
])

####################################################################################################################################
# Subclass definition
####################################################################################################################################

class COSP_xxxx(pdsfile.PdsFile):

    pdsfile.PdsFile.VOLSET_TRANSLATOR = translator.TranslatorByRegex([('COSP_xxxx', re.I, 'COSP_xxxx')]) + \
                                        pdsfile.PdsFile.VOLSET_TRANSLATOR

    ASSOCIATIONS = pdsfile.PdsFile.ASSOCIATIONS.copy()
    ASSOCIATIONS['documents'] += associations_to_documents

    INFO_FILE_BASENAMES = info_file_basenames + pdsfile.PdsFile.INFO_FILE_BASENAMES

pdsfile.PdsFile.FILESPEC_TO_VOLSET = filespec_to_volset + pdsfile.PdsFile.FILESPEC_TO_VOLSET

####################################################################################################################################
# Update the global dictionary of subclasses
####################################################################################################################################

pdsfile.PdsFile.SUBCLASSES['COSP_xxxx'] = COSP_xxxx

####################################################################################################################################
