####################################################################################################################################
# rules/NHSP_xxxx.py
####################################################################################################################################

import pdsfile
import translator
import re

####################################################################################################################################
# ASSOCIATIONS
####################################################################################################################################

associations_to_documents = translator.TranslatorByRegex([
    (r'volumes/NHSP_xxxx.*', 0,
        r'documents/NHSP_xxxx/*'),
])

####################################################################################################################################
# FILESPEC_TO_VOLSET
####################################################################################################################################

filespec_to_volset = translator.TranslatorByRegex([
    (r'NHSP_\d{4}.*', 0, r'NHSP_xxxx'),
])

####################################################################################################################################
# INFO_FILE_BASENAMES
####################################################################################################################################

info_file_basenames = translator.TranslatorByRegex([
    (r'(aareadme\.txt)', re.I, r'\1'),      # this is the best choice, not voldesc.cat
])

####################################################################################################################################
# Subclass definition
####################################################################################################################################

class NHSP_xxxx(pdsfile.PdsFile):

    pdsfile.PdsFile.VOLSET_TRANSLATOR = translator.TranslatorByRegex([('NHSP_xxxx.*', re.I, 'NHSP_xxxx')]) + \
                                        pdsfile.PdsFile.VOLSET_TRANSLATOR

    ASSOCIATIONS = pdsfile.PdsFile.ASSOCIATIONS.copy()
    ASSOCIATIONS['documents'] += associations_to_documents

    INFO_FILE_BASENAMES = info_file_basenames + pdsfile.PdsFile.INFO_FILE_BASENAMES

pdsfile.PdsFile.FILESPEC_TO_VOLSET = filespec_to_volset + pdsfile.PdsFile.FILESPEC_TO_VOLSET

####################################################################################################################################
# Update the global dictionary of subclasses
####################################################################################################################################

pdsfile.PdsFile.SUBCLASSES['NHSP_xxxx'] = NHSP_xxxx

####################################################################################################################################
